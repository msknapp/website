<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Michael Knapp&#39;s Home Page</title>
    <meta charset="UTF-8">
    <meta name="description" content="Portfolio site for Michael Knapp">
    <meta name="keywords" content="golang resume">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/site.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/content.css">
    <link rel="stylesheet" href="/css/listnav.css" />
    <link rel="stylesheet" href="/css/breadcrumbs.css" />
    <link rel="stylesheet" href="/css/sitenav.css" />
    <link rel="stylesheet" href="/css/sectionmenu.css" />
    <link rel="stylesheet" href="/css/tocmenu.css" />

    <link rel="stylesheet" media="print" href="/css/print.css" />
</head>

<body><div class="sitenav">
    <h2 class="sitenav">Sections</h2>
    <nav class="sitenav">
        <ul>
            <li class="sitenav ">
                <a class="sitenav " href="/"><img src="/icons/house.png"
                        width="20px" /></a>
            </li>
            
            <li class="sitenav currentsection">
                <a class="sitenav currentsection"
                    href="/tech/" title="Notes about software engineering.">
                    Software Engineering</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/algorithms/" title="Software algorithms.">
                    Algorithms</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/principles/" title="my description.">
                    Principles</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/applications/" title="browser applications.">
                    Applications</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/cheat-sheets/" title="Software engineering cheat sheets.">
                    Cheat Sheets</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/architecture/" title="Software architecture">
                    Architecture</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/blog/" title="A blog on software engineering.">
                    Blog</a>
            </li>
        </ul>
    </nav>
</div>
    <div class="body"><aside>
    <h2 class="sectionmenu">Pages</h2>
    <ul class="sectionmenu">
        <li class="sectionmenu">
            <a class="sectionmenu" href="/tech/golang/" title="">
                Golang</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu" href="/tech/java/" title="java programming language.">
                Java</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu" href="/tech/bash/" title="">
                Bash</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu" href="/tech/javascript-language/" title="javascript programming">
                Javascript Language</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu" href="/tech/languages/" title="my description.">
                Software Languages</a>
        </li>
    </ul>
</aside><div class="rightcolumn">
    <div class="rightcontent">
        <div class="metaarrows">
            <a class="metaup" href="/tech/java/" title="Java"><img
                    src="/icons/up-arrow-white.png" width="26px" /></a>
            <a class="metanext" href="/tech/java/classpath/" title="Classpath"><img
                    src="/icons/right-arrow-white.png" width="26px" /></a>
        </div>
        <hr class="meta">
        <p class="toc">Table of Contents:</p><nav id="TableOfContents"></nav>
    </div>
</div>
        <div class="middlecolumn"><div class="breadcrumbs">
    <h2 class="breadcrumbs">BreadCrumbs</h2>
    <ul class="breadcrumbs">
        <li class="breadcrumbs"><a href="/" class="breadcrumbs">/Michael&#39;s Home Page</a></li>
        <li class="breadcrumbs"><a href="/tech/" class="breadcrumbs">/Software Engineering</a></li>
        <li class="breadcrumbs"><a href="/tech/java/" class="breadcrumbs">/Java</a></li>
    </ul>
</div>
            <article>
                <main>
                    <h1 class="title">Maven</h1>
<p>A basic maven pom template:</p>
<p><!-- raw HTML omitted -->
<!-- raw HTML omitted -->4.0.0<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->
<!-- raw HTML omitted --></p>
<p>Making the jar shaded:</p>
<pre><code>&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.4.3&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;phase&gt;package&lt;/phase&gt;
        &lt;goals&gt;
          &lt;goal&gt;shade&lt;/goal&gt;
        &lt;/goals&gt;
        &lt;configuration&gt;

          &lt;artifactSet&gt;
		&lt;!-- There is also an excludes --&gt;
                &lt;includes&gt;
		&lt;!-- You can use an asterisk in place of the artifact id. --&gt;
		&lt;include&gt;groupid:artifactId[[:type]:classifier]&lt;/include&gt;
	    &lt;/includes&gt;
            &lt;/artifactSet&gt;
          &lt;transformers&gt;
	&lt;!-- for an executable jar --&gt;
            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;
              &lt;mainClass&gt;com.foo.bar.Main&lt;/mainClass&gt;
            &lt;/transformer&gt;
          &lt;/transformers&gt;
	&lt;!-- To resolve the conflict where signed jars prevent this from running. --&gt;
	&lt;filters&gt;
                &lt;filter&gt;
                  &lt;artifact&gt;*:*&lt;/artifact&gt;
                  &lt;excludes&gt;
                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;
                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;
                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;
                  &lt;/excludes&gt;
                &lt;/filter&gt;
	&lt;/filters&gt;
        &lt;/configuration&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
</code></pre>
<p>Copying dependencies to a lib:</p>
<pre><code>The 'copy' goal is used when you want to just copy a few specific artifacts, it does not just copy all dependencies.  You probably want to use 'copy-dependencies' instead.


  &lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.10&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;copy-dependencies&lt;/id&gt;
        &lt;phase&gt;package&lt;/phase&gt;
        &lt;goals&gt;
          &lt;goal&gt;copy-dependencies&lt;/goal&gt;
        &lt;/goals&gt;
        &lt;configuration&gt;
          &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;
          &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;
          &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;
          &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;
	&lt;classifier&gt;Specify classifier to look for&lt;/classifier&gt;
	&lt;excludeArtifactIds&gt;&lt;/excludeArtifactIds&gt;
	&lt;excludeClassifiers&gt;&lt;/excludeClassifiers&gt;
	&lt;excludeGroupIds&gt;&lt;/excludeGroupIds&gt;
	&lt;excludeScope&gt;&lt;/excludeScope&gt;
	&lt;excludeTypes&gt;&lt;/excludeTypes&gt;
	&lt;includeArtifactIds&gt;&lt;/includeArtifactIds&gt;
	&lt;includeClassifiers&gt;&lt;/includeClassifiers&gt;
	&lt;includeGroupIds&gt;&lt;/includeGroupIds&gt;
	&lt;includeScope&gt;&lt;/includeScope&gt;
	&lt;includeTypes&gt;&lt;/includeTypes&gt;
	&lt;!-- The plural properties are comma delimited. --&gt;
        &lt;/configuration&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
</code></pre>
<p>Making a test jar and using it:</p>
<pre><code>In the first jar/project:
&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.6&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;goals&gt;
          &lt;goal&gt;test-jar&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;


In the project that depends on it:
&lt;dependency&gt;
  &lt;groupId&gt;groupId&lt;/groupId&gt;
  &lt;artifactId&gt;artifactId&lt;/artifactId&gt;
  &lt;type&gt;test-jar&lt;/type&gt;
  &lt;version&gt;version&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
<p>Using the jar plugin:
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->org.apache.maven.plugins<!-- raw HTML omitted -->
<!-- raw HTML omitted -->maven-jar-plugin<!-- raw HTML omitted -->
<!-- raw HTML omitted -->2.6<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->**/service/*<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->true<!-- raw HTML omitted -->
<!-- raw HTML omitted -->fully.qualified.MainClass<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted --></p>
<p>Using the surefire plugin:</p>
<pre><code>&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.19.1&lt;/version&gt;
    &lt;configuration&gt;
  &lt;!-- Including some classes in tests (optional) --&gt;
      &lt;includes&gt;
        &lt;include&gt;Sample.java&lt;/include&gt;
      &lt;/includes&gt;

  &lt;!-- Excluding some classes in tests (optional).  These appear to take file paths as glob patterns, not package names. --&gt;
      &lt;excludes&gt;
        &lt;exclude&gt;**/TestCircle.java&lt;/exclude&gt;
        &lt;exclude&gt;**/TestSquare.java&lt;/exclude&gt;
      &lt;/excludes&gt;

  &lt;!-- Running with some system properties (optional) --&gt;
      &lt;systemPropertyVariables&gt;
        &lt;propertyName&gt;propertyValue&lt;/propertyName&gt;
        &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;
        [...]
      &lt;/systemPropertyVariables&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;
</code></pre>
<p>Configuring source/target java version:</p>
<pre><code>&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.5&lt;/version&gt;
    &lt;configuration&gt;
      &lt;source&gt;1.8&lt;/source&gt;
      &lt;target&gt;1.8&lt;/target&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;
</code></pre>
<p>Using the scala maven plugin:</p>
<pre><code>        &lt;plugin&gt;
            &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;
            &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;3.2.1&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;phase&gt;compile&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;compile&lt;/goal&gt;
                        &lt;goal&gt;testCompile&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
            &lt;configuration&gt;
                &lt;args&gt;
                    &lt;arg&gt;-Yresolve-term-conflict:object&lt;/arg&gt;
                &lt;/args&gt;
                &lt;!--&lt;addScalacArgs&gt;-Yresolve-term-conflict=strategy&lt;/addScalacArgs&gt;--&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;


If there is a package and object with the same name on the classpath, it will keep the object/class and the package will be inaccessable because -Yresolve-term-conflict is set to object, I think the other option is &quot;package&quot;.
</code></pre>


                </main>
            </article><hr class="footerline">
<footer>
    <div></div>
    <div class="footermiddle">
        <div class="lastmod">Last Modified: <time datetime="2023-03-14 00:00:00 &#43;0000 UTC">
                March 14, 2023</time></div>
        <b>&#169; 2023 Michael Knapp</b>
    </div>
    <a class="footernext" href="/tech/java/classpath/" title="Classpath">
        <span class="footerlinktext">next </span>
        <img src="/icons/right-arrow-black.png" class="footerarrow" /></a>
</footer>
        </div>
    </div>
</body>

</html>