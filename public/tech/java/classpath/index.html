<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Michael Knapp&#39;s Home Page</title>
    <meta charset="UTF-8">
    <meta name="description" content="Portfolio site for Michael Knapp">
    <meta name="keywords" content="golang resume">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/site.css">
    <link rel="stylesheet" media="print" href="/css/print.css" />
</head>

<body>
    <h1 class="topheader">Classpath</h1>
    <div class="navigation">
        <nav>
            <a href="/">Home</a>
            
            <a href="/tech/">Software Engineering</a>
            
            <a href="/algorithms/">Algorithms</a>
            
            <a href="/principles/">Principles</a>
            
            <a href="/applications/">Applications</a>
            
            <a href="/cheat-sheets/">Cheat Sheets</a>
            
            <a href="/open-source/">Open Source</a>
            
            <a href="/architecture/">Architecture</a>
            
            <a href="/blog/">Blog</a>
            
        </nav>
    </div>
    <div class="body">
        <aside>
        </aside>
        
<article>
    <main>
        <p>Seeing the contents of a jar file:</p>
<p>jar tf &lt;my.jar&gt; | less</p>
<p>Extracting a jar file:</p>
<p>jar xf &lt;my.jar&gt;</p>
<p>I recommend copying/moving it to a tmp directory first so when you extract it, the files are not inter-mixed with others you wanted.</p>
<p>Finding what jars have a certain class:</p>
<p>$ cd ~/.m2/repository
$ find . -name &lsquo;*.jar&rsquo; -type f -exec jar tf {} | grep <!-- raw HTML omitted --> ;</p>
<p>Files will have forward slashes in them like a directory, not like package names.  They will end with &ldquo;.class&rdquo; if they are class files.</p>
<p>Creating an index of classes and jars that contain them:</p>
<pre><code>function indexjars() {
        for x in $(find ~/.m2/repository -name '*.jar' -type f); do
                jar tf $x | sed -r 's|.*/(.*).class|\1 \0 '$x'|g' &gt;&gt; /tmp/classes_unordered.txt
        done
        sort &lt; /tmp/classes_unordered.txt &gt; /tmp/maven_index.txt
}
</code></pre>
<p>Now you can use &lsquo;less&rsquo; to search the index file for your class.  This can be used to answer the question &ldquo;what jar has the class I&rsquo;m seeing?&rdquo;</p>
<p>Seeing dependencies with maven:</p>
<p>mvn dependency:tree | less
mvn dependency:resolve | less</p>
<p>You can add profiles using -P.  You can also set the scopes with &ndash;include-scope=compile|test|provided, etc.  Tree is preferred since it will tell you what dependency gave you a transitive one.  You can add an exclude statement to the dependency in the pom if necessary.</p>
<p>Viewing Source Files:
Unfortunately &lsquo;jar&rsquo; and &lsquo;jad&rsquo; are not very versatile.  &ldquo;jar xf &lt;my.jar&gt; &lt;/path/to/My.class&gt;&rdquo; can be used to extract a single class, but it cannot go to standard output, it must be written to a file in the corresponding sub directory.  jad cannot read from standard input, only from a file.  jad can be piped to standard output though.  You will have to go to each file one at a time, extract what you want to see, decompile it, and then review its source code.</p>

    </main>
</article>

    </div>
</body>

</html>