<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Michael Knapp&#39;s Home Page</title>
    <meta charset="UTF-8">
    <meta name="description" content="Portfolio site for Michael Knapp">
    <meta name="keywords" content="golang resume">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/site.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/content.css">
    <link rel="stylesheet" href="/css/listnav.css" />
    <link rel="stylesheet" href="/css/breadcrumbs.css" />
    <link rel="stylesheet" href="/css/sitenav.css" />
    <link rel="stylesheet" href="/css/sectionmenu.css" />
    <link rel="stylesheet" href="/css/tocmenu.css" />

    <link rel="stylesheet" media="print" href="/css/print.css" />
</head>

<body><div class="sitenav">
    <h2 class="sitenav">Sections</h2>
    <nav class="sitenav">
        <ul>
            <li class="sitenav ">
                <a class="sitenav " href="/"><img src="/icons/house.png"
                        width="20px" /></a>
            </li>
            
            <li class="sitenav">
                <a class="sitenav"
                    href="/principles/" title="my description.">
                    Principles</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/reliability/" title="robust software system design">
                    Reliability</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/architecture/" title="robust software system design">
                    Architecture</a>
            </li>
            <li class="sitenav currentsection">
                <a class="sitenav currentsection"
                    href="/algorithms/" title="Software algorithms.">
                    Algorithms</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/tech/" title="Notes about software engineering.">
                    Tech</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/blog/" title="A blog on software engineering.">
                    Blog</a>
            </li>
            <li class="sitenav">
                <a class="sitenav"
                    href="/cheat-sheets/" title="Software engineering cheat sheets.">
                    Cheat Sheets</a>
            </li>
        </ul>
    </nav>
</div>
    <div class="body"><aside>
    <h2 class="sectionmenu">Pages</h2>
    <ul class="sectionmenu">
        
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/binary-search/" title="">
                Binary Search</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/bubble/" title="">
                Bubble Sort</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/insertion/" title="">
                Insertion Sort</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/selection/" title="">
                Selection Sort</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/quick/" title="">
                Quick Sort</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/merge/" title="">
                Merge Sort</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/linked-list/" title="">
                Linked List</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu currentpage"
                href="/algorithms/queue/" title="">
                Queue</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/stack/" title="">
                Stack</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/set/" title="">
                Set</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/heap/" title="">
                Heap Datastructure</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/avl/" title="">
                AVL Tree</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/radix/" title="">
                Radix</a>
        </li>
        <li class="sectionmenu">
            <a class="sectionmenu"
                href="/algorithms/unfinished/" title="">
                More Algorithms</a>
        </li>
    </ul>
</aside><div class="rightcolumn">
        <div class="rightcontent">
                <div class="tocmenu arrow"><a class="tocmenu arrow" href="/algorithms/linked-list/"
                                title="Linked List">
                                <img src="/icons/arrow-left-circle-white.png" class="tocmenu arrow" /></a><a class="tocmenu arrow" href="/algorithms/" title="Algorithms">
                                <img src="/icons/arrow-up-circle-white.png" class="tocmenu arrow" /></a>
                        <a class="tocmenu arrow" href="/algorithms/stack/"
                                title="Stack"><img src="/icons/arrow-right-circle-white.png"
                                        class="tocmenu arrow" /></a>
                </div>
                <hr class="tocmenu">
                <p class="tocmenu">Table of Contents:</p><nav id="TableOfContents">
  <ul>
    <li><a href="#array-backed-queues">Array Backed Queues</a></li>
    <li><a href="#circular-arrays">Circular Arrays</a></li>
    <li><a href="#linked-lists">Linked Lists</a></li>
    <li><a href="#golang-generic-example">Golang Generic Example</a></li>
  </ul>
</nav>
        </div>
</div>
        <div class="middlecolumn"><div class="breadcrumbs">
    <h2 class="breadcrumbs">BreadCrumbs</h2>
    <ul class="breadcrumbs">
        <li class="breadcrumbs"><a href="/" class="breadcrumbs">/Michael Knapp&#39;s Home Page</a></li>
        <li class="breadcrumbs"><a href="/algorithms/" class="breadcrumbs">/Algorithms</a></li>
    </ul>
</div>
            <article>
                <main>
                    <h1 class="title">Queue</h1>
<p>A queue is a first-in, first-out data structure.  There are a variety of ways to represent them:</p>
<ul>
<li>As arrays</li>
<li>As circular arrays</li>
<li>As linked lists</li>
</ul>
<h1 id="array-backed-queues">Array Backed Queues</h1>
<p>The problem with arrays is that, as items come and go, the array may need to be re-built, which
can involve copying all of its elements.  This won&rsquo;t perform as well as linked lists, which have
O(1) append or pop operations.</p>
<p>For instance, one way a queue (backed by an array) could support a pop operation is by shifting all elements
one index to their left.  This could be a very expensive operation.</p>
<p>Another way an array-backed queue can support the pop operation, is by maintaining a pointer to the start
of the array.  As items are popped, the pointer just shifts right one index.  Then you still have
O(1) pop operations.  A push onto the array might still perform slowly though.  If the underlying
array does not have space for another element, then it might have to build a new array and copy all
elements to that, which can be expensive.</p>
<p>You could also design the Queue so that after a certain number of operations, if cleans itself, shifting
all elements to the front of the underlying array.  This will give better performance most of the time,
but also uses more memory.  It also doesn&rsquo;t mean the array will not need a resize.</p>
<p>If the programmer can safely and reasonably assume that the Queue will never exceed a certain size,
then it might be safe to use an array for a Queue.</p>
<h1 id="circular-arrays">Circular Arrays</h1>
<p>A circular array maintains two pointers, one for the head, and one for the tail.  These can circle back
to the front of the underlying arrays.  So for example, if the array is six items long, and the tail
points to index 5 (the last element), and the head points to index 1 (the second element), then this
can still support pushing another element to it.  The tail would then point to index 0.  This is what
I mean by circular, the pointers wrap around the array in this fashion.</p>
<p>The circular array might have a size limit, and if code tries pushing to the collection when it is
full, that could either:</p>
<ul>
<li>overwrite the head (probably not what you want).</li>
<li>block the thread until space is available (which can lead to deadlock).</li>
<li>throw an error.</li>
</ul>
<p>Alternatively, the circular array could choose to resize in this situation.  Which means there is still
a chance that a push operation can be expensive, involving the copying of the array into a
newer larger one.</p>
<h1 id="linked-lists">Linked Lists</h1>
<p>A more common pattern is to use a linked list.  The Queue would then maintain pointers to the head and
tail of the list.  The advantages here are:</p>
<ul>
<li>Push and pop operations are always O(1).</li>
<li>There is no size limit to the Queue.</li>
</ul>
<p>The downside is that Linked Lists can generate more garbage, which might degrade the application performance.
Linked Lists are usually the best choice for unbounded Queues.</p>
<h1 id="golang-generic-example">Golang Generic Example</h1>
<div class="golang-code">
    
<span class="golang-top-level-keyword">package</span>&nbsp;coll<br>
<br>
<span class="golang-control-keyword">type</span>&nbsp;Node[T&nbsp;any]&nbsp;<span class="golang-control-keyword">struct</span>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;T<br>
&nbsp;&nbsp;&nbsp;&nbsp;next&nbsp;&nbsp;*Node[T]<br>
}<br>
<br>
<span class="golang-top-level-keyword">func</span>&nbsp;NewNode[T&nbsp;any](value&nbsp;T)&nbsp;*Node[T]&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-control-keyword">return</span>&nbsp;&Node[T]{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value:&nbsp;value,<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>
<br>
<span class="golang-control-keyword">type</span>&nbsp;Queue[T&nbsp;any]&nbsp;<span class="golang-control-keyword">struct</span>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;head&nbsp;*Node[T]<br>
&nbsp;&nbsp;&nbsp;&nbsp;tail&nbsp;*Node[T]<br>
&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span class="golang-variable-type">int</span><br>
}<br>
<br>
<span class="golang-top-level-keyword">func</span>&nbsp;NewQueue[T&nbsp;any]()&nbsp;*Queue[T]&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-control-keyword">return</span>&nbsp;&Queue[T]{}<br>
}<br>
<br>
<span class="golang-top-level-keyword">func</span>&nbsp;(q&nbsp;*Queue[T])&nbsp;Add(value&nbsp;T)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-variable">nd</span>&nbsp;:=&nbsp;NewNode[T](value)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-control-keyword">if</span>&nbsp;q.tail&nbsp;!=&nbsp;nil&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q.tail.<span class="golang-variable">next</span>&nbsp;=&nbsp;nd<br>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="golang-control-keyword">else</span>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q.<span class="golang-variable">head</span>&nbsp;=&nbsp;nd<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;q.<span class="golang-variable">tail</span>&nbsp;=&nbsp;nd<br>
&nbsp;&nbsp;&nbsp;&nbsp;q.size&nbsp;+=&nbsp;1<br>
}<br>
<br>
<span class="golang-top-level-keyword">func</span>&nbsp;(q&nbsp;*Queue[T])&nbsp;IsEmpty()&nbsp;<span class="golang-variable-type">bool</span>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-control-keyword">return</span>&nbsp;q.size&nbsp;<&nbsp;1<br>
}<br>
<br>
<span class="golang-top-level-keyword">func</span>&nbsp;(q&nbsp;*Queue[T])&nbsp;IsNotEmpty()&nbsp;<span class="golang-variable-type">bool</span>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-control-keyword">return</span>&nbsp;q.size&nbsp;>&nbsp;0<br>
}<br>
<br>
<span class="golang-top-level-keyword">func</span>&nbsp;(q&nbsp;*Queue[T])&nbsp;PopLeft()&nbsp;T&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-control-keyword">var</span>&nbsp;v&nbsp;T<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-control-keyword">if</span>&nbsp;q.head&nbsp;!=&nbsp;nil&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-variable">v</span>&nbsp;=&nbsp;q.head.value<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q.<span class="golang-variable">head</span>&nbsp;=&nbsp;q.head.next<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q.size&nbsp;-=&nbsp;1<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="golang-control-keyword">return</span>&nbsp;v<br>
}<br>

</div>


                </main>
            </article><hr class="footerline">
<footer>
    <a class="footerprevious" href="/algorithms/linked-list/" title="Linked List">
        <img src="/icons/arrow-left-circle-black.png" class="footerarrow arrow" /><span class="footerlinktext">
            previous</span></a>
    <div class="footermiddle">
        <div class="lastmod">Last Modified: <time datetime="2023-03-25 00:00:00 &#43;0000 UTC">
                March 25, 2023</time></div>
        <b>&#169; 2023 Michael Knapp</b>
    </div>
    <a class="footernext" href="/algorithms/stack/" title="Stack">
        <span class="footerlinktext">next </span>
        <img src="/icons/arrow-right-circle-black.png" class="footerarrow arrow" /></a>
</footer>
        </div>
    </div>
</body>

</html>